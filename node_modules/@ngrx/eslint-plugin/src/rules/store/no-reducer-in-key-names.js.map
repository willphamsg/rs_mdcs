{"version":3,"file":"no-reducer-in-key-names.js","sourceRoot":"","sources":["../../../../../../modules/eslint-plugin/src/rules/store/no-reducer-in-key-names.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,2CAA6B;AAC7B,qDAAgD;AAChD,uCAKqB;AAER,QAAA,mBAAmB,GAAG,qBAAqB,CAAC;AAC5C,QAAA,0BAA0B,GAAG,4BAA4B,CAAC;AAOvE,MAAM,cAAc,GAAG,SAAS,CAAC;AAEjC,kBAAe,IAAA,yBAAU,EAAsB;IAC7C,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI;IACjC,IAAI,EAAE;QACJ,IAAI,EAAE,YAAY;QAClB,cAAc,EAAE,IAAI;QACpB,IAAI,EAAE;YACJ,WAAW,EAAE,mBAAmB,cAAc,qBAAqB;YACnE,UAAU,EAAE,OAAO;SACpB;QACD,MAAM,EAAE,EAAE;QACV,QAAQ,EAAE;YACR,CAAC,2BAAmB,CAAC,EAAE,mBAAmB,cAAc,mDAAmD;YAC3G,CAAC,kCAA0B,CAAC,EAAE,oBAAoB,cAAc,IAAI;SACrE;KACF;IACD,cAAc,EAAE,EAAE;IAClB,MAAM,EAAE,CAAC,OAAO,EAAE,EAAE;QAClB,OAAO;YACL,CAAC,YAAY,6BAAqB,KAAK,wBAAgB,OAAO,IAAA,wBAAgB,EAC5E,UAAU,CACX,SAAS,CAAC,CAAC,IAA8B;gBACxC,OAAO,CAAC,MAAM,CAAC;oBACb,IAAI;oBACJ,SAAS,EAAE,2BAAmB;oBAC9B,OAAO,EAAE;wBACP;4BACE,SAAS,EAAE,kCAA0B;4BACrC,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE;gCACb,MAAM,OAAO,GAAG,IAAA,kBAAU,EAAC,IAAI,CAAC,CAAC;gCAEjC,IAAI,CAAC,OAAO,EAAE,CAAC;oCACb,OAAO,IAAI,CAAC;gCACd,CAAC;gCAED,OAAO,KAAK,CAAC,WAAW,CACtB,IAAI,EACJ,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,cAAc,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,CACrD,CAAC;4BACJ,CAAC;yBACF;qBACF;iBACF,CAAC,CAAC;YACL,CAAC;SACF,CAAC;IACJ,CAAC;CACF,CAAC,CAAC","sourcesContent":["import type { TSESTree } from '@typescript-eslint/utils';\nimport * as path from 'path';\nimport { createRule } from '../../rule-creator';\nimport {\n  actionReducerMap,\n  getRawText,\n  metadataProperty,\n  storeActionReducerMap,\n} from '../../utils';\n\nexport const noReducerInKeyNames = 'noReducerInKeyNames';\nexport const noReducerInKeyNamesSuggest = 'noReducerInKeyNamesSuggest';\n\ntype MessageIds =\n  | typeof noReducerInKeyNames\n  | typeof noReducerInKeyNamesSuggest;\ntype Options = readonly [];\n\nconst reducerKeyword = 'reducer';\n\nexport default createRule<Options, MessageIds>({\n  name: path.parse(__filename).name,\n  meta: {\n    type: 'suggestion',\n    hasSuggestions: true,\n    docs: {\n      description: `Avoid the word \"${reducerKeyword}\" in the key names.`,\n      ngrxModule: 'store',\n    },\n    schema: [],\n    messages: {\n      [noReducerInKeyNames]: `Avoid the word \"${reducerKeyword}\" in the key names to better represent the state.`,\n      [noReducerInKeyNamesSuggest]: `Remove the word \"${reducerKeyword}\".`,\n    },\n  },\n  defaultOptions: [],\n  create: (context) => {\n    return {\n      [`:matches(${storeActionReducerMap}, ${actionReducerMap}) > ${metadataProperty(\n        /reducer/i\n      )} > .key`](node: TSESTree.Property['key']) {\n        context.report({\n          node,\n          messageId: noReducerInKeyNames,\n          suggest: [\n            {\n              messageId: noReducerInKeyNamesSuggest,\n              fix: (fixer) => {\n                const keyName = getRawText(node);\n\n                if (!keyName) {\n                  return null;\n                }\n\n                return fixer.replaceText(\n                  node,\n                  keyName.replace(new RegExp(reducerKeyword, 'i'), '')\n                );\n              },\n            },\n          ],\n        });\n      },\n    };\n  },\n});\n"]}